<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<script src="js/jquery-3.4.1.min.js"></script>
<head>
    <meta charset="UTF-8">
    <title>Selección de filtros</title>
</head>
<body>
<p><strong>Selecciona los filtros de la decisión</strong></p>

<form action="#" method="post" th:action="@{/filterList/process}" th:object="${form}">
    <fieldset>
        <table>
            <thead>
            <tr>
                <th>Nombre</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="filter, itemStat : ${filterList}">
                <td>
                    <div th:if="${filter.name} != 'rowId'">
                        <div th:switch="${filter.class}">
                            <input th:field="*{filters[__${itemStat.index}__].active}"
                                   th:id="${filter.name} + '_checkbox'"
                                   th:name="${filter.name} + '_checkbox'" type="checkbox"/>
                            <input th:field="*{filters[__${itemStat.index}__].filterClass}"
                                   th:value="${filter.class}" type="hidden"/>

                            <div th:case="'Date'">
                                <label>
                                    <span th:text="${filter.name}"/>
                                    <input placeholder="Seleccione la fecha por la que filtrar"
                                           th:field="*{filters[__${itemStat.index}__].value}"
                                           th:id="${filter.name}" type="date"/>
                                </label>
                            </div>
                            <div th:case="'Double'">
                                <label>
                                    <span th:text="${filter.name}"/>
                                    <input th:field="*{filters[__${itemStat.index}__].value}" th:id="${filter.name}"
                                           type="number"/>
                                </label>
                            </div>
                            <div th:case="*">
                                <label>
                                    <span th:text="${filter.name}"/>
                                    <input placeholder="Seleccione el valor por la que filtrar"
                                           th:field="*{filters[__${itemStat.index}__].value}"
                                           th:id="${filter.name}" type="text"/>
                                </label>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <errors cssClass="error" path="filter"/>
                </td>
            </tr>
            </tbody>
        </table>
        <input id="submitButton" th:value="Enviar" type="submit">
        <input id="resetButton" name="reset" th:value="Reset" type="reset"/>
    </fieldset>
</form>
</body>
</html>